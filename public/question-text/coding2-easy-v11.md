Now, you can modify your previous code.  The code snippet below is generated by an AI code generator. You may use the entire code or integrate part of it into your own code. 



<span style="color: red;">**Please notice that your payment depends on the quality of your final submitted codes.**</span> You will receive ***3.5 GBP*** for ***high-quality codes*** and only ***2.5 GBP*** for ***low-quality codes***. The additional 1 pound reward for high-quality code will be paid as a bonus to your Prolific account.  

```javascript
/**
 * @param {string} ransomNote
 * @param {string} magazine
 * @return {boolean}
 */

var canConstruct = function (ransomNote, magazine) {
  // Create a map to count the frequency of each letter in magazine
  const magazineLetterCounts = {};
  for (let letter of magazine) {
    if (magazineLetterCounts[letter] === undefined) {
      magazineLetterCounts[letter] = 1;
    } else {
      magazineLetterCounts[letter]++;
    }
  }

  // Check if ransomNote can be constructed from the magazine
  for (let letter of ransomNote) {
    // If the letter of ramsomNote is not in magazine,
    // or the number of letters is not enough, return false
    if (
      magazineLetterCounts[letter] === undefined ||
      magazineLetterCounts[letter] === 0
    ) {
      return false;
    }
    // If there is sufficient number of letters in magazine, reduce the frequency
    magazineLetterCounts[letter]--;
  }

  // If all letters are checked and found, return true
  return true;
};
```

The code below is written by you in the previous page. You may use it as a reference too. 